{"variables":[],"info":{"name":"","_postman_id":"90b50735-0edf-4355-b733-a5ac07649a36","description":"","schema":"https:\/\/schema.getpostman.com\/json\/collection\/v2.0.0\/collection.json"},"item":[{"name":"Authentication\n\nThe process flow is as such:\n\n1. Mobile App login with Facebook or Google**\n2. Mobile App get the token (from Fb\/G)\n3. Send token to server via `\/api\/v1\/auth` endpoint\n4. Then server checks if we already have the user in local db:\n a. If already in, return an auth token\n b. Else, create user, then return an auth token\n\nThe auth token is actually JWT token. Basically, to call an authorised endpoint, include the JWT token in the request header: `Authorization: Bearer [JWTTokenHere]`. The request will pass through if the token is valid. The user can also be identified with the token.\n\nThe token does expire. If server returns `token_expired`, call `\/api\/v1\/auth\/refresh` to get a new token. The token is returned in `Authorization` header.\n\nTo get the current logged in user based on the token, call `\/api\/v1\/me`.\n\n** Fb uses same client_id\/secret, Google might be different. For example, for Android: https:\/\/developers.google.com\/identity\/sign-in\/android\/start-integrating","description":"","item":[{"name":"Get Authenticated User","request":{"url":"http:\/\/terawhere.local\/api\/v1\/me","method":"GET","body":{"mode":"formdata","formdata":[]},"description":"**Requires Authentication Header - ** *Authorization: Bearer [JWTTokenHere]*\n\nRetrieves the user associated with the JWT token.","response":[]}},{"name":"Authenticate User","request":{"url":"http:\/\/terawhere.local\/api\/v1\/auth","method":"POST","body":{"mode":"formdata","formdata":[{"key":"service","value":"tenetur","type":"text","enabled":true},{"key":"token","value":"tenetur","type":"text","enabled":true}]},"description":"Exchanges social network token to JWT bearer token.","response":[]}},{"name":"Refresh Token","request":{"url":"http:\/\/terawhere.local\/api\/v1\/auth\/refresh","method":"GET","body":{"mode":"formdata","formdata":[]},"description":"Call this API to exchange expired (not invalid!) JWT token with a fresh one.","response":[]}}]},{"name":"Booking\n\nAll bookings by passengers are handled here.","description":"","item":[{"name":"Get all bookings","request":{"url":"http:\/\/terawhere.local\/api\/v1\/bookings","method":"GET","body":{"mode":"formdata","formdata":[]},"description":"**Requires Authentication Header - ** *Authorization: Bearer [JWTTokenHere]*","response":[]}},{"name":"Store a booking","request":{"url":"http:\/\/terawhere.local\/api\/v1\/bookings","method":"POST","body":{"mode":"formdata","formdata":[{"key":"offer_id","value":89061,"type":"text","enabled":true},{"key":"status","value":89061,"type":"text","enabled":true},{"key":"driver_remarks","value":"recusandae","type":"text","enabled":true},{"key":"rating","value":89061,"type":"text","enabled":true}]},"description":"**Requires Authentication Header - ** *Authorization: Bearer [JWTTokenHere]*","response":[]}},{"name":"Show a particular booking","request":{"url":"http:\/\/terawhere.local\/api\/v1\/bookings\/{booking}","method":"GET","body":{"mode":"formdata","formdata":[]},"description":"**Requires Authentication Header - ** *Authorization: Bearer [JWTTokenHere]*","response":[]}},{"name":"Cancel a booking","request":{"url":"http:\/\/terawhere.local\/api\/v1\/bookings\/{booking}","method":"DELETE","body":{"mode":"formdata","formdata":[]},"description":"**Requires Authentication Header - ** *Authorization: Bearer [JWTTokenHere]*","response":[]}},{"name":"Get bookings belonging to a user","request":{"url":"http:\/\/terawhere.local\/api\/v1\/bookings\/user\/{user}","method":"GET","body":{"mode":"formdata","formdata":[]},"description":"**Requires Authentication Header - ** *Authorization: Bearer [JWTTokenHere]*","response":[]}},{"name":"Get all bookings belonging to an offer","request":{"url":"http:\/\/terawhere.local\/api\/v1\/bookings\/offer\/{offer}","method":"GET","body":{"mode":"formdata","formdata":[]},"description":"**Requires Authentication Header - ** *Authorization: Bearer [JWTTokenHere]*","response":[]}}]},{"name":"Offer\n\nAll offers by drivers are handled here.","description":"","item":[{"name":"Get all offers","request":{"url":"http:\/\/terawhere.local\/api\/v1\/offers","method":"GET","body":{"mode":"formdata","formdata":[]},"description":"**Requires Authentication Header - ** *Authorization: Bearer [JWTTokenHere]*","response":[]}},{"name":"Store an offer","request":{"url":"http:\/\/terawhere.local\/api\/v1\/offers","method":"POST","body":{"mode":"formdata","formdata":[{"key":"meetup_time","value":"2017-05-06 05:04","type":"text","enabled":true},{"key":"start_name","value":"autem","type":"text","enabled":true},{"key":"start_addr","value":"autem","type":"text","enabled":true},{"key":"start_lat","value":72,"type":"text","enabled":true},{"key":"start_lng","value":-51,"type":"text","enabled":true},{"key":"end_name","value":"autem","type":"text","enabled":true},{"key":"end_addr","value":"autem","type":"text","enabled":true},{"key":"end_lat","value":72,"type":"text","enabled":true},{"key":"end_lng","value":-51,"type":"text","enabled":true},{"key":"vacancy","value":4756018,"type":"text","enabled":true},{"key":"pref_gender","value":0,"type":"text","enabled":true}]},"description":"**Requires Authentication Header - ** *Authorization: Bearer [JWTTokenHere]*","response":[]}},{"name":"Show a single offer","request":{"url":"http:\/\/terawhere.local\/api\/v1\/offers\/{offer}","method":"GET","body":{"mode":"formdata","formdata":[]},"description":"**Requires Authentication Header - ** *Authorization: Bearer [JWTTokenHere]*","response":[]}},{"name":"Update an offer","request":{"url":"http:\/\/terawhere.local\/api\/v1\/offers\/{offer}","method":"PUT","body":{"mode":"formdata","formdata":[{"key":"meetup_time","value":"2017-05-06 05:04","type":"text","enabled":true},{"key":"start_name","value":"ratione","type":"text","enabled":true},{"key":"start_addr","value":"ratione","type":"text","enabled":true},{"key":"start_lat","value":34,"type":"text","enabled":true},{"key":"start_lng","value":-56,"type":"text","enabled":true},{"key":"end_name","value":"ratione","type":"text","enabled":true},{"key":"end_addr","value":"ratione","type":"text","enabled":true},{"key":"end_lat","value":34,"type":"text","enabled":true},{"key":"end_lng","value":-56,"type":"text","enabled":true},{"key":"vacancy","value":4379,"type":"text","enabled":true},{"key":"pref_gender","value":0,"type":"text","enabled":true}]},"description":"**Requires Authentication Header - ** *Authorization: Bearer [JWTTokenHere]*","response":[]}},{"name":"Cancel an offer","request":{"url":"http:\/\/terawhere.local\/api\/v1\/offers\/{offer}","method":"DELETE","body":{"mode":"formdata","formdata":[]},"description":"**Requires Authentication Header - ** *Authorization: Bearer [JWTTokenHere]*","response":[]}},{"name":"Get offers belonging to a user","request":{"url":"http:\/\/terawhere.local\/api\/v1\/offers\/user\/{user}","method":"GET","body":{"mode":"formdata","formdata":[]},"description":"**Requires Authentication Header - ** *Authorization: Bearer [JWTTokenHere]*","response":[]}},{"name":"http:\/\/terawhere.local\/api\/v1\/offers\/nearby","request":{"url":"http:\/\/terawhere.local\/api\/v1\/offers\/nearby","method":"POST","body":{"mode":"formdata","formdata":[{"key":"lat","value":-37,"type":"text","enabled":true},{"key":"lng","value":-146,"type":"text","enabled":true},{"key":"range","value":7,"type":"text","enabled":true}]},"description":"","response":[]}}]}]}